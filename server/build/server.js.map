{"version":3,"sources":["../src/server.js"],"names":["https","require","http","bodyParser","path","fs","chalk","express","module","exports","createServer","app","use","static","join","__dirname","urlencoded","extended","json","DEFAULT_PORT_HTTP","httpServer","portHttp","process","env","PORT_HTTP","set","listen","get","console","log","green"],"mappings":";;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,IAAME,UAAU,GAAGF,OAAO,CAAC,aAAD,CAA1B;;AACA,IAAMG,IAAI,GAAGH,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMI,EAAE,GAAGJ,OAAO,CAAC,IAAD,CAAlB;;AACA,IAAMK,KAAK,GAAGL,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMM,OAAO,GAAGN,OAAO,CAAC,SAAD,CAAvB;;AAEAO,MAAM,CAACC,OAAP,CAAeC,YAAf,GAA8B,UAAAC,GAAG,EAAI;AACnCA,EAAAA,GAAG,CAACC,GAAJ,CAAQL,OAAO,CAACM,MAAR,CAAeT,IAAI,CAACU,IAAL,CAAUC,SAAV,EAAqB,IAArB,CAAf,CAAR;AACAJ,EAAAA,GAAG,CAACC,GAAJ,CACET,UAAU,CAACa,UAAX,CAAsB;AACpBC,IAAAA,QAAQ,EAAE;AADU,GAAtB,CADF;AAKAN,EAAAA,GAAG,CAACC,GAAJ,CAAQT,UAAU,CAACe,IAAX,EAAR,EAPmC,CASnC;AACA;AACA;;AAEA,MAAMC,iBAAiB,GAAG,IAA1B,CAbmC,CAcnC;;AAEA,MAAMC,UAAU,GAAGlB,IAAI,CAACQ,YAAL,CAAkBC,GAAlB,CAAnB;AACA,MAAMU,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,SAAZ,IAAyBL,iBAA1C,CAjBmC,CAkBnC;AAEA;;AACAR,EAAAA,GAAG,CAACc,GAAJ,CAAQ,UAAR,EAAoBJ,QAApB,EArBmC,CAuBnC;AAEA;AACA;AACA;;AAEAD,EAAAA,UAAU,CAACM,MAAX,CAAkBf,GAAG,CAACgB,GAAJ,CAAQ,UAAR,CAAlB,EAAuC;AAAA,WACrCC,OAAO,CAACC,GAAR,CAAYvB,KAAK,CAACwB,KAAN,wDAA4DT,QAA5D,EAAZ,CADqC;AAAA,GAAvC;AAIA,SAAO;AACLD,IAAAA,UAAU,EAAVA,UADK,CAEL;;AAFK,GAAP;AAID,CArCD","sourcesContent":["const https = require(\"https\");\nconst http = require(\"http\");\nconst bodyParser = require(\"body-parser\");\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst chalk = require(\"chalk\");\nconst express = require(\"express\");\n\nmodule.exports.createServer = app => {\n  app.use(express.static(path.join(__dirname, \"./\")));\n  app.use(\n    bodyParser.urlencoded({\n      extended: true,\n    }),\n  );\n  app.use(bodyParser.json());\n\n  // const privateKey = fs.readFileSync(path.join(`${__dirname}/sslcert/key.pem`));\n  // const certificate = fs.readFileSync(path.join(`${__dirname}/sslcert/server.crt`));\n  // const credentials = { key: privateKey, cert: certificate };\n\n  const DEFAULT_PORT_HTTP = 4444;\n  // const DEFAULT_PORT_HTTPS = 4445;\n\n  const httpServer = http.createServer(app);\n  const portHttp = process.env.PORT_HTTP || DEFAULT_PORT_HTTP;\n  // const portHttps = process.env.PORT_HTTPS || DEFAULT_PORT_HTTPS;\n\n  // app.set('portHttps', portHttps);\n  app.set(\"portHttp\", portHttp);\n\n  // const httpsServer = https.createServer(credentials, app);\n\n  // httpsServer.listen(app.get('portHttps'), () =>\n  //   console.log(chalk.magenta(`Dev api server listening on https://localhost:${portHttps}`)),\n  // );\n\n  httpServer.listen(app.get(\"portHttp\"), () =>\n    console.log(chalk.green(`Dev api server listening on http://localhost:${portHttp}`)),\n  );\n\n  return {\n    httpServer,\n    // httpsServer,\n  };\n};\n"],"file":"server.js"}